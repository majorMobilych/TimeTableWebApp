<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Log in/sign up</title>
    <style>
        body {
            /* отступы со всех сторон - 0 */
            margin: 0;
            /* устанавливаем фон */
            background: url(https://brainygirlsguidetobusiness.com/wp-content/uploads/2015/01/Dollarphotoclub_75407988.jpg);
            /* фон растягивается на весь экран */
            background-size: cover;
            /* 700-толщина шрифта, 16-размер шрифта, 18-высота строки,
               sans-serif-название шрифта */
            font: 700 16px/20px 'Open Sans', sans-serif
        }

        /* TODO: узнать, что значит конструкция: '(*-все), :after, :before' */
        *, :after, :before {
            box-sizing: border-box
        }

        a {
            /* наследование цвета родительского элемента */
            color: inherit;
            /* убирает нижнее подчеркивание у ссылок(у них оно по дефолту) */
            text-decoration: none
        }

        .login-wrap {
            /* блок занимет весь экран  по ширине*/
            width: 100%;
            /* расположение блока по центру */
            margin: auto;
            /* ширина формы не превосходит 40% от ширины экрана */
            max-width: 40%;
            /* высота формы - максимальная */
            height: 100%;
            /* относительное позиционирование */
            position: relative;
            /* TODO: почитать про тени */
            box-shadow: 0 15px 15px 0 rgba(0, 0, 0, .10), 0 15px 50px 0 rgba(0, 0, 0, .25)
        }

        .login-html {
            /* блок занимет весь экран по ширине */
            width: 100%;
            /* блок занимет весь экран по ширине */
            height: 100%;
            /* абсолютное позиционирование */
            position: absolute;
            /* отступы: 150-сверху, 70-справа, 50-снизу, 70-слева */
            padding: 150px 70px 50px 70px;
            /* цвет + прозрачность */
            background: rgba(205, 210, 219, .2)
        }

        .login-html .sign-in-htm,
        .login-html .sign-up-htm {
            /* абсолютное позиционирование*/
            position: absolute;
            /* все остальные блоки располагаются так, будто этого (sign-in-htm/
            sign-up-htm) блока нет, --> */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            /* поворот на 180 градусов */
            transform: rotateY(180deg);
            /* --> если открыт sign-in-htm, то sign-up-htm - "задняя" часть, И ОНА НЕ
            ВИДНА! */
            backface-visibility: hidden;
            /* длительность переворота формы */
            transition: all .60s linear
        }

        .login-html .sign-in,
        .login-html .sign-up,
        .login-form .group .check {
            /* Убрать кружочек у инпут-сабмита */
            display: none
        }

        .login-html .tab,
        .login-form .group .label,
        .login-form .group .button {
            /* надписи на кнопках - заглавными буквами */
            text-transform: uppercase;
            color: rgba(105, 105, 105, .5)
        }

        .login-html .tab {
            /* размер шрифта */
            font-size: 22px;
            /* отступ справа */
            padding-bottom: 5px;
            /* отступы: нижний-0, правый-15px, нижний-10px, левый-0 */
            margin: 0 15px 10px 0;
            /* Это значение генерирует блочный элемент, который обтекается другими
               элементами веб-страницы подобно встроенному элементу. Фактически такой
               элемент по своему действию похож на встраиваемые элементы
                 (вроде тега <img>). При этом его внутренняя часть форматируется как
                 блочный элемент, а сам элемент — как встроенный.
                 http://htmlbook.ru/css/display */
            display: inline-block
        }

        .login-html .sign-in:checked + .tab,
        .login-html .sign-up:checked + .tab {
            /* при нажатии sign-in/sign-in, они становятся серо-коричневого цвета цвета */
            color: rgb(105, 105, 105);
        }

        .login-form {
            /* относительное позиционирование */
            position: relative;
            /* TODO: это у всех так же хорошо будет работать, как у меня?
               (попробуй, например поставить 80px, или 10%)  */
            perspective: 1000px;
            /* Дочерние элементы будут отображаться в 3D-пространстве */
            transform-style: preserve-3d
        }

        .login-form .group {
            /* отступы между @group={grop.label, group.input, @optional group.button} */
            margin-bottom: 15px
        }

        .login-form .group .label {
            color: rgb(105, 105, 105)
        }

        .login-form .group .input,
        .login-form .group .button {
            width: 100%;
            /* цвет кнопки */
            background: rgb(105, 105, 105);
            /* цвет надписи на кнопке  */
            color: #fff;

            /* шрифт надписи на кнопке */
            /* TODO: ЕСЛИ ИЗМЕНЯТЬ(добавлять совйство) ШРИФТ НАДПИСИ НА КНОПКИ, ВСЕ
                  НЕМНОГО ШАТАЕТСЯ */
            /* font: 700 16px/20px 'Open Sans', sans-serif */

            /* Элемент показывается как блочный. Применение этого значения
                  для встроенных элементов, например тега <span>, заставляет его вести
                 подобно блокам — происходит перенос строк в начале и в конце содержимого
                 http://htmlbook.ru/css/display */
            display: block;
        }

        .login-form .group .input,
        .login-form .group .button {
            /* не видна граница */
            border: none;
            /* при нажатии инпута, вокруг него появляется прямогульник. Это своейство
               его убирает*/
            outline: none;
            padding: 15px 20px;
            border-radius: 25px;
            background: rgba(255, 255, 255, .1);
        }

        /* селектор, где вводимый тип - пароль */
        .login-form .group input[data-type = "password"] {
            color: rgb(105, 105, 105);
            /* чтоб были кружочки вместо символов - это пароль!*/
            -webkit-text-security: circle
        }

        .login-form .group .label {
            /* лейблы над инпутами(юзернейм, пароль и т.д.) */
            color: rgb(105, 105, 105);
            font-size: 12px
        }

        .login-form .group .button {
            background: rgba(105, 105, 105, .8)
        }

        .login-form .group label .icon {
            width: 15px;
            height: 15px;
            border-radius: 2px;
            position: relative;
            display: inline-block;
            background: rgba(255, 255, 255, .1);
        }

        /* TODO: ЧТО ПРОИСХОДИТ В СЛЕДУЮЩИХ 3Х БЛОКАХ? */
        .login-form .group label .icon:before,
        .login-form .group label .icon:after {
            content: '';
            width: 10px;
            height: 2px;
            background: rgba(105, 105, 105, .8);
            position: absolute;
            transition: all .2s ease-in-out 0s;
        }

        .login-form .group label .icon:before {
            left: 3px;
            width: 5px;
            bottom: 6px;
            transform: scale(0) rotate(0);
        }

        .login-form .group label .icon:after {
            top: 6px;
            right: 0;
            transform: scale(0) rotate(0);
        }

        .login-form .group .check:checked + label {
            color: rgba(105, 105, 105, .8);
        }

        .login-form .group .check:checked + label .icon {
            background: rgb(105, 105, 105);
        }

        .login-form .group .check:checked + label .icon:before {
            transform: scale(1) rotate(45deg);
        }

        .login-form .group .check:checked + label .icon:after {
            transform: scale(1) rotate(-45deg);
        }

        .login-html .sign-in:checked + .tab + .sign-up + .tab + .login-form .sign-in-htm {
            transform: rotate(0);
        }

        .login-html .sign-up:checked + .tab + .login-form .sign-up-htm {
            transform: rotate(0);
        }

        .hr {
            height: 2px;
            margin: 60px 0 50px 0;
            background: rgba(255, 255, 255, .2);
        }

        .foot-lnk {
            color: rgb(105, 105, 105);
            font: 600 18px/18px 'Open Sans', sans-serif;
            text-align: center;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<script>
    $(document).ready(function () {
        $("#LogIn").click(function () {
            var login = $("#userEmailLogIn").val();
            var password = $("#userPasswordLogIn").val();
            $.post({
                url: '/logIn',
                contentType: "application/json; charset=UTF-8",
                mimeType: "text/html; charset=UTF-8",
                scriptCharset: "utf-8",
                data: JSON.stringify({
                    "login": login,
                    "password": password
                }),
                success: function (res) {
                    console.log("success");
                    var parsed = JSON.parse(res);
                    var status = parsed.checkUserStatus;
                    if (status === 'USER_NOT_FOUND') {
                        alert('USER NOT FOUND');
                    }
                    if (status === 'INCORRECT_PASSWORD') {
                        alert('INCORRECT PASSWORD');
                    }
                    if (status === 'SUCCESS') {
                        var userName = parsed.name;
                        alert(userName);
                        window.location.href = '/homeWithAgenda?userName=' + userName;
                    }
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    console.log(qXHR);
                    console.log(textStatus);
                    console.log(errorThrown);
                }
            });
        });

        $("#SignUp").click(function () {
            var name = $("#userNameSignUp").val();
            var login = $("#userEmailSignUp").val();
            $.post({
                url: '/signUp',
                contentType: "application/json; charset=UTF-8",
                mimeType: "text/html; charset=UTF-8",
                scriptCharset: "utf-8",
                data: JSON.stringify({
                    "name": name,
                    "login": login
                }),
                success: function () {
                    console.log("success");
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    alert(qXHR);
                    alert(textStatus);
                    alert(errorThrown);
                }
            });
        });
    });

</script>

<body>
<div class="login-wrap">
    <div class="login-html">
        <input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">Sign In</label>
        <input id="tab-2" type="radio" name="tab" class="sign-up"><label for="tab-2" class="tab">Sign Up</label>
        <div class="login-form">
            <div class="sign-in-htm">
                <div class="group">
                    <label for="userEmailLogIn" class="label">User email</label>
                    <input id="userEmailLogIn" type="text" class="input">
                </div>
                <div class="group">
                    <label for="userPasswordLogIn" class="label">Password</label>
                    <input id="userPasswordLogIn" type="password" class="input" data-type="password">
                </div>
                <div class="group">
                    <input id="check" type="checkbox" class="check">
                    <label for="check"><span class="icon"></span> Keep me Signed in</label>
                </div>
                <div class="group">
                    <input id="LogIn" type="submit" class="button" value="Sign In">
                </div>
                <div class="hr"></div>
                <div class="foot-lnk">
                    <a href="#forgot">Forgot Password?</a>
                </div>
            </div>
            <div class="sign-up-htm">
                <div class="group">
                    <label for="userNameSignUp" class="label">Username</label>
                    <input id="userNameSignUp" type="text" class="input">
                </div>
                <div class="group">
                    <label for="userEmailSignUp" class="label">Email Address</label>
                    <input id="userEmailSignUp" type="text" class="input">
                </div>
                <div class="group">
                    <input id="SignUp" type="submit" class="button" value="Sign Up">
                </div>
                <div class="hr"></div>
                <div class="foot-lnk">
                    <label for="tab-1">Already Member</label>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>